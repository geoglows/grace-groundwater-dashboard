<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <link rel="icon" type="image/svg+xml" href="/vite.svg"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GEOGLOWS GRACE Groundwater Assessment</title>
  <script type="module" src="/src/main.js" defer></script>
</head>
<body>
<div class="nav-bar">
  <h1>GEOGLOWS GRACE Groundwater Assessment</h1>
</div>
<div class="body">
  <arcgis-map item-id="a69f14ea2e784e019f4a4b6835ffd376" zoom="2" center="0,20" class="map-view">
    <arcgis-zoom slot="top-left"></arcgis-zoom>
    <arcgis-expand slot="top-left" title="Basemap Gallery">
      <arcgis-basemap-gallery></arcgis-basemap-gallery>
    </arcgis-expand>
    <arcgis-locate slot="top-left" scale="5000"></arcgis-locate>
    <arcgis-layer-list slot="top-right"></arcgis-layer-list>
    <arcgis-time-slider play-rate="1000" layout="auto" slot="top-right"></arcgis-time-slider>
    <arcgis-expand slot="top-right" title="Drawing Controls">
      <arcgis-sketch title="Draw Shapes"></arcgis-sketch>
    </arcgis-expand>
    <arcgis-expand slot="top-right" title="Legend">
      <arcgis-legend></arcgis-legend>
    </arcgis-expand>
    <arcgis-scale-bar slot="bottom-right" bar-style="line" unit="dual"></arcgis-scale-bar>
    <calcite-action slot="bottom-left" icon="refresh" id="refresh-layers"></calcite-action>
  </arcgis-map>
  <div id="timeseries-plot" class="chart-container">
    <div style="padding: 20px; font-size: 16px;">
      <p>Welcome to the Groundwater Storage Anomaly Explorer!</p>
      <p>To get started, either:</p>
      <ul>
        <li>Click on an aquifer boundary on the map to analyze its groundwater storage anomaly over time.</li>
        <li>Use the polygon drawing tool (pencil icon on the top right of the map) to draw a polygon.</li>
      </ul>
      <p>Once you've made a selection, the time series plot will update to show the mean groundwater storage anomaly for your chosen area.</p>
      <p>Use the time slider below the map to explore changes over time.</p>
      <p>To reset the map and make a new selection, use the refresh icon on the rop right of the map.</p>
    </div>
  </div>
</div>

<div id="info-modal" class="modal">
  <div class="modal-content">
    <h2>GEOGLOWS GRACE Groundwater Assessment Tool</h2>
    <p>This is an experimental implementation of an algorithm to identify changes in groundwater storage derived primarily from GRACE and GLDAS.</p>
    <button onclick="document.getElementById('info-modal').classList.toggle('hidden')">Close</button>
  </div>
</div>
</body>
</html>
